(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"7Lvj":function(e,t,i){"use strict";i.r(t),i.d(t,"RecipesModule",(function(){return P}));var n=i("tyNb"),r=i("fXoL"),c=i("ceC1"),o=i("ofXK");const s=function(e){return[e]};let b=(()=>{class e{ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Bb({type:e,selectors:[["app-recipe-item"]],inputs:{recipe:"recipe",index:"index"},decls:8,vars:7,consts:[["routerLinkActive","router-link-active",1,"list-group-item","clearfix","recipeItem",2,"cursor","pointer",3,"routerLink"],[1,"float-left"],[1,"list-group-item-heading"],[1,"list-group-item-text"],[1,"float-right","ml-5"],[1,"img-responsive",2,"max-height","50px",3,"src","alt"]],template:function(e,t){1&e&&(r.Kb(0,"a",0),r.Kb(1,"div",1),r.Kb(2,"h4",2),r.dc(3),r.Jb(),r.Kb(4,"p",3),r.dc(5),r.Jb(),r.Jb(),r.Kb(6,"span",4),r.Ib(7,"img",5),r.Jb(),r.Jb()),2&e&&(r.Ub("routerLink",r.Wb(5,s,t.index)),r.xb(3),r.ec(t.recipe.name),r.xb(2),r.ec(t.recipe.description),r.xb(2),r.Vb("alt",t.recipe.name),r.Ub("src",t.recipe.imagePath,r.ac))},directives:[n.e,n.d],styles:[".router-link-active[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}@media only screen and (max-width:500px){.recipeItem[_ngcontent-%COMP%]{margin:8px}}"]}),e})();function a(e,t){if(1&e&&r.Ib(0,"app-recipe-item",4),2&e){const e=t.index;r.Ub("recipe",t.$implicit)("index",e)}}let d=(()=>{class e{constructor(e,t,i){this.recipeService=e,this.router=t,this.route=i}ngOnInit(){this.subscription=this.recipeService.recipesChanged.subscribe(e=>{this.recipes=e}),this.recipes=this.recipeService.getRecipes()}onNewRecipe(){this.router.navigate(["new"],{relativeTo:this.route})}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.Hb(c.a),r.Hb(n.c),r.Hb(n.a))},e.\u0275cmp=r.Bb({type:e,selectors:[["app-recipe-list"]],decls:8,vars:1,consts:[[1,"row"],[1,"col-xs-12"],[1,"btn","btn-success","newRecipeBtn",3,"click"],[3,"recipe","index",4,"ngFor","ngForOf"],[3,"recipe","index"]],template:function(e,t){1&e&&(r.Kb(0,"div",0),r.Kb(1,"div",1),r.Kb(2,"button",2),r.Rb("click",(function(){return t.onNewRecipe()})),r.dc(3,"New Recipe"),r.Jb(),r.Jb(),r.Jb(),r.Ib(4,"hr"),r.Kb(5,"div",0),r.Kb(6,"div",1),r.cc(7,a,1,2,"app-recipe-item",3),r.Jb(),r.Jb()),2&e&&(r.xb(7),r.Ub("ngForOf",t.recipes))},directives:[o.h,b],styles:["@media only screen and (max-width:500px){.row[_ngcontent-%COMP%]   .newRecipeBtn[_ngcontent-%COMP%]{margin-left:10px}}"]}),e})(),p=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Bb({type:e,selectors:[["app-recipes"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-md-5"],[1,"col-md-7"]],template:function(e,t){1&e&&(r.Kb(0,"div",0),r.Kb(1,"div",1),r.Ib(2,"app-recipe-list"),r.Jb(),r.Kb(3,"div",2),r.Ib(4,"router-outlet"),r.Jb(),r.Jb())},directives:[d,n.g],styles:[""]}),e})(),l=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Bb({type:e,selectors:[["app-recipe-start"]],decls:2,vars:0,template:function(e,t){1&e&&(r.Kb(0,"h3"),r.dc(1,"Please select a Recipe!"),r.Jb())},styles:[""]}),e})();var u=i("3Pt+");class m{constructor(e,t,i,n){this.name=e,this.description=t,this.imagePath=i,this.ingredients=n}}function g(e,t){if(1&e){const e=r.Lb();r.Kb(0,"div",19),r.Kb(1,"div",20),r.Ib(2,"input",21),r.Jb(),r.Kb(3,"div",22),r.Ib(4,"input",23),r.Jb(),r.Kb(5,"div",24),r.Kb(6,"button",25),r.Rb("click",(function(){r.Zb(e);const i=t.index;return r.Tb().onDeleteIngredient(i)})),r.dc(7,"X"),r.Jb(),r.Jb(),r.Jb()}2&e&&r.Ub("formGroupName",t.index)}let h=(()=>{class e{constructor(e,t,i){this.route=e,this.recipeService=t,this.router=i,this.editMode=!1}ngOnInit(){this.route.params.subscribe(e=>{this.id=+e.id,this.editMode=null!=e.id,this.initForm()})}onSubmit(){const e=new m(this.recipeForm.value.name,this.recipeForm.value.description,this.recipeForm.value.imagePath,this.recipeForm.value.ingredients);this.editMode?this.recipeService.updateRecipe(this.id,e):this.recipeService.addRecipe(e),this.onCancel()}onAddIngredient(){this.recipeForm.get("ingredients").push(new u.f({name:new u.d(null,u.s.required),amount:new u.d(null,[u.s.required,u.s.pattern(/^[1-9]+[0-9]*$/)])}))}onDeleteIngredient(e){this.recipeForm.get("ingredients").removeAt(e)}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}get controls(){return this.recipeForm.get("ingredients").controls}initForm(){let e="",t="",i="",n=new u.b([]);if(this.editMode){const r=this.recipeService.getRecipe(this.id);if(e=r.name,t=r.imagePath,i=r.description,r.ingredients)for(let e of r.ingredients)n.push(new u.f({name:new u.d(e.name,u.s.required),amount:new u.d(e.amount,[u.s.required,u.s.pattern(/^[1-9]+[0-9]*$/)])}))}this.recipeForm=new u.f({name:new u.d(e,u.s.required),imagePath:new u.d(t,u.s.required),description:new u.d(i,u.s.required),ingredients:n})}}return e.\u0275fac=function(t){return new(t||e)(r.Hb(n.a),r.Hb(c.a),r.Hb(n.c))},e.\u0275cmp=r.Bb({type:e,selectors:[["app-recipe-edit"]],decls:38,vars:4,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-12"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button",1,"btn","btn-danger","ml-2",3,"click"],[1,"form-group"],["for","name"],["type","text","name","name","id","name","formControlName","name",1,"form-control"],["for","imagePath"],["type","text","name","imagePath","id","imagePath","formControlName","imagePath",1,"form-control"],["imagePath",""],["alt","",1,"img-reponsive",2,"width","300px","height","300px",3,"src"],["for","description"],["name","description","id","description","cols","30","rows","6","formControlName","description",1,"form-control"],["formArrayName","ingredients",1,"col-md-12"],["class","row mb-2",3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","mb-3"],["type","button",1,"btn","btn-success","addIngredientBtn",3,"click"],[1,"row","mb-2",3,"formGroupName"],[1,"col-md-8"],["type","text","formControlName","name",1,"form-control","itemName"],[1,"col-md-2"],["type","number","formControlName","amount",1,"form-control","itemAmount"],[1,"col-md-2","addBtn"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){if(1&e&&(r.Kb(0,"div",0),r.Kb(1,"form",1),r.Rb("ngSubmit",(function(){return t.onSubmit()})),r.Kb(2,"div",2),r.Kb(3,"div",3),r.Kb(4,"button",4),r.dc(5," Save "),r.Jb(),r.Kb(6,"button",5),r.Rb("click",(function(){return t.onCancel()})),r.dc(7,"Cancel"),r.Jb(),r.Jb(),r.Jb(),r.Kb(8,"div",2),r.Kb(9,"div",3),r.Kb(10,"div",6),r.Kb(11,"label",7),r.dc(12,"Name"),r.Jb(),r.Ib(13,"input",8),r.Jb(),r.Jb(),r.Jb(),r.Kb(14,"div",2),r.Kb(15,"div",3),r.Kb(16,"div",6),r.Kb(17,"label",9),r.dc(18,"Image URL"),r.Jb(),r.Ib(19,"input",10,11),r.Jb(),r.Jb(),r.Jb(),r.Kb(21,"div",2),r.Kb(22,"div",3),r.Ib(23,"img",12),r.Jb(),r.Jb(),r.Kb(24,"div",2),r.Kb(25,"div",3),r.Kb(26,"div",6),r.Kb(27,"label",13),r.dc(28,"Description"),r.Jb(),r.Ib(29,"textarea",14),r.Jb(),r.Jb(),r.Jb(),r.Kb(30,"div",2),r.Kb(31,"div",15),r.cc(32,g,8,1,"div",16),r.Ib(33,"hr"),r.Kb(34,"div",17),r.Kb(35,"div",3),r.Kb(36,"button",18),r.Rb("click",(function(){return t.onAddIngredient()})),r.dc(37,"Add Ingredient"),r.Jb(),r.Jb(),r.Jb(),r.Jb(),r.Jb(),r.Jb(),r.Jb()),2&e){const e=r.Yb(20);r.xb(1),r.Ub("formGroup",t.recipeForm),r.xb(3),r.Ub("disabled",!t.recipeForm.valid),r.xb(19),r.Ub("src",e.value,r.ac),r.xb(9),r.Ub("ngForOf",t.controls)}},directives:[u.t,u.l,u.g,u.a,u.k,u.e,u.c,o.h,u.h,u.o],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%], textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}@media only screen and (max-width:500px){.addIngredientBtn[_ngcontent-%COMP%]{margin-bottom:20px}.addBtn[_ngcontent-%COMP%]{width:20%;position:absolute;right:0}}"]}),e})();function v(e,t){if(1&e&&(r.Kb(0,"li",17),r.dc(1),r.Jb()),2&e){const e=t.$implicit;r.xb(1),r.gc(" ",e.name," - ",e.amount," ")}}let f=(()=>{class e{constructor(e,t,i){this.receipeService=e,this.route=t,this.router=i}ngOnInit(){this.route.params.subscribe(e=>{this.id=e.id,this.recipe=this.receipeService.getRecipe(this.id)})}onAddToShoppingList(){this.receipeService.addIngredientsToShoppingList(this.recipe.ingredients)}onEditRecipe(){this.router.navigate(["edit"],{relativeTo:this.route})}onDeleteRecipe(){this.receipeService.deleteRecipe(this.id),this.router.navigate(["/recipes"])}}return e.\u0275fac=function(t){return new(t||e)(r.Hb(c.a),r.Hb(n.a),r.Hb(n.c))},e.\u0275cmp=r.Bb({type:e,selectors:[["app-recipe-detail"]],decls:30,vars:5,consts:[[1,"row","recipeDetails"],[1,"col-xs-12"],[1,"img-responsive",2,"max-height","300px",3,"src","alt"],[1,"row"],[1,"col-xs-12","recipeTitle"],[1,"row","recipeIngredients"],[1,"btn-group","dropdown"],["type","button","id","dropDownMenuButton","data-toggle","dropdown",1,"btn","btn-primary","dropdown-toggle"],[1,"caret"],["aria-labelledby","dropDownMenuButton",1,"dropdown-menu"],[1,"ml-2"],["routerLink","/shopping-list",2,"cursor","pointer","color","black","text-decoration","none",3,"click"],[2,"cursor","pointer",3,"click"],[1,"row","recipeIngredientsList"],[1,"col-12","ingredient-list"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"]],template:function(e,t){1&e&&(r.Kb(0,"div",0),r.Kb(1,"div",1),r.Ib(2,"img",2),r.Jb(),r.Jb(),r.Kb(3,"div",3),r.Kb(4,"div",4),r.Kb(5,"h1"),r.dc(6),r.Jb(),r.Jb(),r.Jb(),r.Kb(7,"div",5),r.Kb(8,"div",1),r.Kb(9,"div",6),r.Kb(10,"button",7),r.dc(11," Manage Recipe "),r.Ib(12,"span",8),r.Jb(),r.Kb(13,"ul",9),r.Kb(14,"li",10),r.Kb(15,"a",11),r.Rb("click",(function(){return t.onAddToShoppingList()})),r.dc(16,"To Shopping List"),r.Jb(),r.Jb(),r.Kb(17,"li",10),r.Kb(18,"a",12),r.Rb("click",(function(){return t.onEditRecipe()})),r.dc(19,"Edit Recipe"),r.Jb(),r.Jb(),r.Kb(20,"li",10),r.Kb(21,"a",12),r.Rb("click",(function(){return t.onDeleteRecipe()})),r.dc(22,"Delete Recipe"),r.Jb(),r.Jb(),r.Jb(),r.Jb(),r.Jb(),r.Jb(),r.Kb(23,"div",5),r.Kb(24,"div",1),r.dc(25),r.Jb(),r.Jb(),r.Kb(26,"div",13),r.Kb(27,"div",14),r.Kb(28,"ul",15),r.cc(29,v,2,2,"li",16),r.Jb(),r.Jb(),r.Jb()),2&e&&(r.xb(2),r.Vb("alt",t.recipe.name),r.Ub("src",t.recipe.imagePath,r.ac),r.xb(4),r.ec(t.recipe.name),r.xb(19),r.fc(" ",t.recipe.description," "),r.xb(4),r.Ub("ngForOf",t.recipe.ingredients))},directives:[n.e,o.h],styles:["a[_ngcontent-%COMP%]{color:grey}.ingredient-list[_ngcontent-%COMP%]{padding-left:0}@media only screen and (max-width:500px){.recipeDetails[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px;height:auto;margin-left:50px}.recipeIngredients[_ngcontent-%COMP%], .recipeTitle[_ngcontent-%COMP%]{margin:8px!important}.recipeIngredientsList[_ngcontent-%COMP%]{margin:8px 8px 18px}}"]}),e})();var J=i("GXvH");let K=(()=>{class e{constructor(e,t){this.dataStorageService=e,this.recipesService=t}resolve(e,t){const i=this.recipesService.getRecipes();return 0===i.length?this.dataStorageService.fetchRecipes():i}}return e.\u0275fac=function(t){return new(t||e)(r.Ob(J.a),r.Ob(c.a))},e.\u0275prov=r.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var w=i("IzEk"),x=i("lJxs"),I=i("qXBG");const y=[{path:"",component:p,canActivate:[(()=>{class e{constructor(e,t){this.authService=e,this.router=t}canActivate(e,t){return this.authService.user.pipe(Object(w.a)(1),Object(x.a)(e=>!!e||this.router.createUrlTree(["/auth"])))}}return e.\u0275fac=function(t){return new(t||e)(r.Ob(I.a),r.Ob(n.c))},e.\u0275prov=r.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()],children:[{path:"",component:l},{path:"new",component:h},{path:":id",component:f,resolve:[K]},{path:":id/edit",component:h,resolve:[K]}]}];let O=(()=>{class e{}return e.\u0275mod=r.Fb({type:e}),e.\u0275inj=r.Eb({factory:function(t){return new(t||e)},imports:[[n.f.forChild(y)],n.f]}),e})();var R=i("PCNd");let P=(()=>{class e{}return e.\u0275mod=r.Fb({type:e}),e.\u0275inj=r.Eb({factory:function(t){return new(t||e)},imports:[[n.f,R.a,u.q,O]]}),e})()}}]);